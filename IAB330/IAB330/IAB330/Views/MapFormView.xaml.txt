<?xml version="1.0" encoding="UTF-8"?>
<ContentView xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:d="http://xamarin.com/schemas/2014/forms/design"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             x:Class="IAB330.Views.MapFormView"
             xmlns:vm="clr-namespace:IAB330.ViewModels">

  <ContentView.BindingContext>
    <vm:MapViewModel />
  </ContentView.BindingContext>

  <!-- Styles -->
  <ContentView.Resources>
    <ResourceDictionary>
      <!-- Base -->
      <Style x:Key="formBaseStyle" TargetType="View">
        <Setter Property="IsVisible" Value="{Binding IsPinConfirm}" />
        <Setter Property="VerticalOptions" Value="Center" />
        <Setter Property="HeightRequest" Value="40" />
      </Style>

      <!-- BoxView-->
      <Style x:Key="formBoxViewStyle" TargetType="BoxView">
        <Setter Property="VerticalOptions" Value="FillAndExpand" />
        <Setter Property="CornerRadius" Value="20" />
        <Setter Property="Grid.Row" Value="1" />
        <Setter Property="Grid.Column" Value="1" />
        <Setter Property="Grid.ColumnSpan" Value="5" />
      </Style>

      <!-- Entry -->
      <Style x:Key="formEntryStyle" BasedOn="{StaticResource formBaseStyle}" TargetType="Entry">
        <Setter Property="HorizontalOptions" Value="FillAndExpand" />
        <Setter Property="TextColor" Value="Black" />
        <Setter Property="Grid.Column" Value="2" />
        <Setter Property="Grid.ColumnSpan" Value="3" />
      </Style>

      <!-- Button -->
      <Style x:Key="formButtonStyle" BasedOn="{StaticResource formBaseStyle}" TargetType="Button">
        <Setter Property="CornerRadius" Value="15" />
        <Setter Property="TextColor" Value="White" />
        <Setter Property="Grid.Row" Value="8" />
      </Style>
    </ResourceDictionary>
  </ContentView.Resources>

  <!-- Content -->
  <Grid HorizontalOptions="FillAndExpand" VerticalOptions="FillAndExpand">
    <Grid.RowDefinitions>
      <RowDefinition Height="10" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="100" />
      <RowDefinition Height="*" />
    </Grid.RowDefinitions>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="10" />
      <ColumnDefinition Width="10" />
      <ColumnDefinition Width="*" />
      <ColumnDefinition Width="*" />
      <ColumnDefinition Width="*" />
      <ColumnDefinition Width="10" />
      <ColumnDefinition Width="10" />
    </Grid.ColumnDefinitions>

    <!-- Form Window -->
    <!-- Background Box -->
    <BoxView Color="{StaticResource bgColour}" Grid.RowSpan="8"
             Style="{StaticResource formBoxViewStyle}" />

    <!-- Photo Box -->
    <BoxView Color="#3B77E6" HeightRequest="200"
             Style="{StaticResource formBoxViewStyle}" />

    <!-- User Entry -->
    <Entry Placeholder="Category" Grid.Row="2" Margin="0, 20, 0, 0"
           Style="{StaticResource formEntryStyle}" />

    <Entry Placeholder="Title" Grid.Row="3"
           Style="{StaticResource formEntryStyle}" />

    <Entry Placeholder="Items" Grid.Row="4"
           Style="{StaticResource formEntryStyle}" />

    <Entry Placeholder="Description" Grid.Row="5"
           Style="{StaticResource formEntryStyle}" />

    <Entry Placeholder="Start Time" Grid.Row="6"
           Style="{StaticResource formEntryStyle}" />

    <Entry Placeholder="End Time" Grid.Row="7" Margin="0, 0, 0, 20"
           Style="{StaticResource formEntryStyle}" />

    <!-- Buttons -->
    <Button Text="Cancel" BackgroundColor="#EA4235" Grid.Column="2"
            Style="{StaticResource formButtonStyle}"
            Command="{Binding CancelPinOrFormCommand}" />

    <Button Text="Preview" BackgroundColor="#FABD03" Grid.Column="3"
            Style="{StaticResource formButtonStyle}"
            Command="{Binding GeneralCommand}" />

    <Button Text="Submit" BackgroundColor="#34A853" Grid.Column="4"
            Style="{StaticResource formButtonStyle}"
            Command="{Binding GeneralCommand}" />
  </Grid>
</ContentView>